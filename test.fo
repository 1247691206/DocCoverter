<?xml version="1.0" encoding="utf-8"?><fo:root xmlns:fo="http://www.w3.org/1999/XSL/Format"><layout-master-set xmlns="http://www.w3.org/1999/XSL/Format" xmlns:w14="http://schemas.microsoft.com/office/word/2010/wordml" xmlns:w15="http://schemas.microsoft.com/office/word/2012/wordml" xmlns:w16se="http://schemas.microsoft.com/office/word/2015/wordml/symex" xmlns:wp14="http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing"><simple-page-master margin-bottom="17mm" margin-left="1.25in" margin-right="1.25in" margin-top="15mm" master-name="s1-simple" page-height="297mm" page-width="210mm"><region-body column-count="1" column-gap="0.3in" margin-bottom="22.0pt" margin-left="0mm" margin-right="0mm" margin-top="29.0pt"/><region-before extent="0.0pt" region-name="xsl-region-before-simple"/><region-after extent="0.0pt" region-name="xsl-region-after-simple"/></simple-page-master><page-sequence-master master-name="s1"><repeatable-page-master-alternatives><conditional-page-master-reference master-reference="s1-simple"/></repeatable-page-master-alternatives></page-sequence-master></layout-master-set><fo:page-sequence force-page-count="no-force" id="section_s1" format="" master-reference="s1"><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader rule-thickness="0.5pt" rule-style="solid" leader-length="100%" leader-pattern="rule"/></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block break-before="auto" font-size="10.5pt" text-align="justify"><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">对于多库事物一致性</inline><inline font-family="SimSun">，</inline><inline font-family="SimSun">目前常用的解决方式主要是</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="PMingLiU-ExtB">JTA</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">方式来解决。</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">具体参考文档如下</inline><inline font-family="SimSun">：</inline></inline></fo:block><fo:block font-size="10.5pt" text-align="justify"><basic-link xmlns="http://www.w3.org/1999/XSL/Format" external-destination="url(https://www.cnblogs.com/aigongsi/archive/2013/01/14/2860372.html)"><inline color="#0563C1" font-size="10.5pt" text-decoration="underline"><inline font-family="PMingLiU-ExtB">https://www.cnblogs.com/aigongsi/archive/2013/01/14/2860372.html</inline></inline></basic-link></fo:block><fo:block font-size="10.5pt" text-align="justify"><basic-link xmlns="http://www.w3.org/1999/XSL/Format" external-destination="url(https://www.cnblogs.com/drizzlewithwind/p/5711653.html)"><inline color="#0563C1" font-size="10.5pt" text-decoration="underline"><inline font-family="PMingLiU-ExtB">https://www.cnblogs.com/drizzlewithwind/p/5711653.html</inline></inline></basic-link></fo:block><fo:block font-size="10.5pt" text-align="justify"><basic-link xmlns="http://www.w3.org/1999/XSL/Format" external-destination="url(https://www.cnblogs.com/linjiqin/p/3533344.html)"><inline color="#0563C1" font-size="10.5pt" text-decoration="underline"><inline font-family="PMingLiU-ExtB">https://www.cnblogs.com/linjiqin/p/3533344.html</inline></inline></basic-link></fo:block><fo:block font-size="10.5pt" text-align="justify"><basic-link xmlns="http://www.w3.org/1999/XSL/Format" external-destination="url(https://blog.csdn.net/typa01_kk/article/details/51190147)"><inline color="#0563C1" font-size="10.5pt" text-decoration="underline"><inline font-family="PMingLiU-ExtB">https://blog.csdn.net/typa01_kk/article/details/51190147</inline></inline></basic-link></fo:block><fo:block font-size="10.5pt" text-align="justify" white-space-treatment="preserve"> </fo:block><fo:block font-size="10.5pt" text-align="justify"><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">结合目前项目的尝试解决</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">：</inline></inline></fo:block><fo:block font-size="10.5pt" text-align="justify"><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">导入依赖包</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="PMingLiU-ExtB">atomikos</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="PMingLiU-ExtB"> </inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">是较好的</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="PMingLiU-ExtB">JTA</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">实现方法</inline></inline></fo:block><fo:block background-color="#2B2B2B" font-size="13.5pt" margin-bottom="0in" margin-top="0in" text-align="left"><block xmlns="http://www.w3.org/1999/XSL/Format" background-color="#2B2B2B" font-size="13.5pt" text-align="left"><inline color="#808080" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">&lt;!--</inline></inline><inline color="#808080" font-size="13.5pt"><inline font-family="SimSun">配置</inline></inline><inline color="#808080" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">jta</inline></inline><inline color="#808080" font-size="13.5pt"><inline font-family="SimSun">与具体实现方法</inline></inline><inline color="#808080" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">--&gt;</inline></inline><inline color="#808080" font-size="13.5pt"><block line-height="0pt" linefeed-treatment="preserve" white-space-treatment="preserve">
</block></inline><inline color="#E8BF6A" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">&lt;dependency&gt;</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><block line-height="0pt" linefeed-treatment="preserve" white-space-treatment="preserve">
</block><inline font-family="PMingLiU-ExtB">    </inline><inline font-family="PMingLiU-ExtB">&lt;groupId&gt;</inline></inline><inline color="#A9B7C6" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">com.atomikos</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">&lt;/groupId&gt;</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><block line-height="0pt" linefeed-treatment="preserve" white-space-treatment="preserve">
</block><inline font-family="PMingLiU-ExtB">    </inline><inline font-family="PMingLiU-ExtB">&lt;artifactId&gt;</inline></inline><inline color="#A9B7C6" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">transactions-jdbc</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">&lt;/artifactId&gt;</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><block line-height="0pt" linefeed-treatment="preserve" white-space-treatment="preserve">
</block><inline font-family="PMingLiU-ExtB">    </inline><inline font-family="PMingLiU-ExtB">&lt;version&gt;</inline></inline><inline color="#A9B7C6" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">3.9.3</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">&lt;/version&gt;</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><block line-height="0pt" linefeed-treatment="preserve" white-space-treatment="preserve">
</block><inline font-family="PMingLiU-ExtB">&lt;/dependency&gt;</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><block line-height="0pt" linefeed-treatment="preserve" white-space-treatment="preserve">
</block><inline font-family="PMingLiU-ExtB">&lt;dependency&gt;</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><block line-height="0pt" linefeed-treatment="preserve" white-space-treatment="preserve">
</block><inline font-family="PMingLiU-ExtB">    </inline><inline font-family="PMingLiU-ExtB">&lt;groupId&gt;</inline></inline><inline color="#A9B7C6" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">javax.transaction</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">&lt;/groupId&gt;</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><block line-height="0pt" linefeed-treatment="preserve" white-space-treatment="preserve">
</block><inline font-family="PMingLiU-ExtB">    </inline><inline font-family="PMingLiU-ExtB">&lt;artifactId&gt;</inline></inline><inline color="#A9B7C6" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">jta</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">&lt;/artifactId&gt;</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><block line-height="0pt" linefeed-treatment="preserve" white-space-treatment="preserve">
</block><inline font-family="PMingLiU-ExtB">    </inline><inline font-family="PMingLiU-ExtB">&lt;version&gt;</inline></inline><inline color="#A9B7C6" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">1.1</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">&lt;/version&gt;</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><block line-height="0pt" linefeed-treatment="preserve" white-space-treatment="preserve">
</block><inline font-family="PMingLiU-ExtB">&lt;/dependency&gt;</inline></inline></block></fo:block><fo:block font-size="10.5pt" text-align="justify" white-space-treatment="preserve"> </fo:block><fo:block font-size="10.5pt" text-align="justify" white-space-treatment="preserve"> </fo:block><fo:list-block font-size="10.5pt" provisional-distance-between-starts="0.25in" start-indent="0in" text-indent="0in"><fo:list-item><fo:list-item-label font-size="10.5pt"><fo:block font-family="DengXian Regular">1.</fo:block></fo:list-item-label><fo:list-item-body font-size="10.5pt" start-indent="body-start()"><fo:block text-align="justify"><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">随后导入数据源</inline><inline font-family="SimSun">，</inline><inline font-family="SimSun">目前存在事物一致性的数据源主要是</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="PMingLiU-ExtB">auth_mysql</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">和</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="PMingLiU-ExtB">fms</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="PMingLiU-ExtB">_oracle</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">数据库</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">，</inline><inline font-family="SimSun">随后替换原始的数据源设置。</inline></inline></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block font-size="10.5pt" text-align="center"><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><external-graphic content-height="258px" content-width="415px" src="file:/C:/Users/PENGFE~1/AppData/Local/Temp/546066ae-b4fb-4f6c-8bb8-c322449df6f2image1.png"/></inline></fo:block><fo:block font-size="10.5pt" text-align="center"><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><external-graphic content-height="116px" content-width="415px" src="file:/C:/Users/PENGFE~1/AppData/Local/Temp/546066ae-b4fb-4f6c-8bb8-c322449df6f2image2.png"/></inline></fo:block><fo:list-block font-size="10.5pt" provisional-distance-between-starts="0.25in" start-indent="0in" text-indent="0in"><fo:list-item><fo:list-item-label font-size="10.5pt"><fo:block font-family="DengXian Regular">2.</fo:block></fo:list-item-label><fo:list-item-body font-size="10.5pt" start-indent="body-start()"><fo:block text-align="justify"><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">配置</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="PMingLiU-ExtB">atomikos</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">事务管理器和</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="PMingLiU-ExtB">Spring</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">事物管理</inline></inline></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block font-size="10.5pt" text-align="justify"><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><external-graphic content-height="152px" content-width="415px" src="file:/C:/Users/PENGFE~1/AppData/Local/Temp/546066ae-b4fb-4f6c-8bb8-c322449df6f2image3.png"/></inline></fo:block><fo:list-block font-size="10.5pt" provisional-distance-between-starts="0.25in" start-indent="0in" text-indent="0in"><fo:list-item><fo:list-item-label font-size="10.5pt"><fo:block font-family="DengXian Regular">3.</fo:block></fo:list-item-label><fo:list-item-body font-size="10.5pt" start-indent="body-start()"><fo:block text-align="justify"><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="PMingLiU-ExtB">AOP</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">切面</inline><inline font-family="SimSun">，</inline><inline font-family="SimSun">设置事物</inline></inline></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block background-color="#2B2B2B" font-size="13.5pt" margin-bottom="0in" margin-top="0in" text-align="left"><block xmlns="http://www.w3.org/1999/XSL/Format" background-color="#2B2B2B" font-size="13.5pt" text-align="left"><inline color="#E8BF6A" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">&lt;</inline></inline><inline color="#9876AA" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">aop</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">:config  </inline></inline><inline color="#BABABA" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">proxy-target-class</inline></inline><inline color="#6A8759" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">="true"</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">&gt;</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><block line-height="0pt" linefeed-treatment="preserve" white-space-treatment="preserve">
</block><inline font-family="PMingLiU-ExtB">    </inline><inline font-family="PMingLiU-ExtB">&lt;</inline></inline><inline color="#9876AA" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">aop</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">:advisor </inline></inline><inline color="#BABABA" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">pointcut</inline></inline><inline color="#6A8759" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">="(execution(* com.tencent.oa.fm.jarvis.portal.server.ops.permission.service.AppServiceImpl.*(..)))" </inline></inline><inline color="#BABABA" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">advice-ref</inline></inline><inline color="#6A8759" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">="txAdvice" </inline></inline><inline color="#E8BF6A" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">/&gt;</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><block line-height="0pt" linefeed-treatment="preserve" white-space-treatment="preserve">
</block><inline font-family="PMingLiU-ExtB">&lt;/</inline></inline><inline color="#9876AA" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">aop</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">:config&gt;</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><block line-height="0pt" linefeed-treatment="preserve" white-space-treatment="preserve">
</block></inline><inline color="#E8BF6A" font-size="13.5pt"><block linefeed-treatment="preserve" white-space-treatment="preserve"> 				
</block><inline font-family="PMingLiU-ExtB">&lt;</inline></inline><inline color="#9876AA" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">tx</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">:advice </inline></inline><inline color="#BABABA" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">id</inline></inline><inline color="#6A8759" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">="txAdvice" </inline></inline><inline color="#BABABA" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">transaction-manager</inline></inline><inline color="#6A8759" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">="jtaTransactionManager"</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">&gt;</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><block line-height="0pt" linefeed-treatment="preserve" white-space-treatment="preserve">
</block><inline font-family="PMingLiU-ExtB">    </inline><inline font-family="PMingLiU-ExtB">&lt;</inline></inline><inline color="#9876AA" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">tx</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">:attributes&gt;</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><block line-height="0pt" linefeed-treatment="preserve" white-space-treatment="preserve">
</block><inline font-family="PMingLiU-ExtB">        </inline><inline font-family="PMingLiU-ExtB">&lt;</inline></inline><inline color="#9876AA" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">tx</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">:method </inline></inline><inline color="#BABABA" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">name</inline></inline><inline color="#6A8759" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">="create*" </inline></inline><inline color="#BABABA" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">propagation</inline></inline><inline color="#6A8759" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">="REQUIRED" </inline></inline><inline color="#BABABA" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">rollback-for</inline></inline><inline color="#6A8759" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">="java.lang.Exception" </inline></inline><inline color="#E8BF6A" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">/&gt;</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><block line-height="0pt" linefeed-treatment="preserve" white-space-treatment="preserve">
</block><inline font-family="PMingLiU-ExtB">        </inline><inline font-family="PMingLiU-ExtB">&lt;</inline></inline><inline color="#9876AA" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">tx</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">:method </inline></inline><inline color="#BABABA" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">name</inline></inline><inline color="#6A8759" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">="update*" </inline></inline><inline color="#BABABA" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">propagation</inline></inline><inline color="#6A8759" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">="REQUIRED" </inline></inline><inline color="#BABABA" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">rollback-for</inline></inline><inline color="#6A8759" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">="java.lang.Exception" </inline></inline><inline color="#E8BF6A" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">/&gt;</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><block line-height="0pt" linefeed-treatment="preserve" white-space-treatment="preserve">
</block><inline font-family="PMingLiU-ExtB">        </inline><inline font-family="PMingLiU-ExtB">&lt;</inline></inline><inline color="#9876AA" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">tx</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">:method </inline></inline><inline color="#BABABA" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">name</inline></inline><inline color="#6A8759" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">="remove*" </inline></inline><inline color="#BABABA" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">propagation</inline></inline><inline color="#6A8759" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">="REQUIRED" </inline></inline><inline color="#BABABA" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">rollback-for</inline></inline><inline color="#6A8759" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">="java.lang.Exception" </inline></inline><inline color="#E8BF6A" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">/&gt;</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><block line-height="0pt" linefeed-treatment="preserve" white-space-treatment="preserve">
</block><inline font-family="PMingLiU-ExtB">    </inline><inline font-family="PMingLiU-ExtB">&lt;/</inline></inline><inline color="#9876AA" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">tx</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">:attributes&gt;</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><block line-height="0pt" linefeed-treatment="preserve" white-space-treatment="preserve">
</block><inline font-family="PMingLiU-ExtB">&lt;/</inline></inline><inline color="#9876AA" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">tx</inline></inline><inline color="#E8BF6A" font-size="13.5pt"><inline font-family="PMingLiU-ExtB">:advice&gt;</inline></inline></block></fo:block><fo:block font-size="10.5pt" text-align="justify" white-space-treatment="preserve"> </fo:block><fo:block font-size="10.5pt" text-align="justify" white-space-treatment="preserve"> </fo:block><fo:block font-size="10.5pt" text-align="justify"><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">注</inline><inline font-family="SimSun">：</inline><inline font-family="SimSun">由于事物不允许嵌套</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">，</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">所以将之前</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="PMingLiU-ExtB">Oracle</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="PMingLiU-ExtB"> </inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="PMingLiU-ExtB">app</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="PMingLiU-ExtB">Da</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="PMingLiU-ExtB">o</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">上的事物注解注释</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">。</inline></inline></fo:block><fo:block font-size="10.5pt" text-align="justify" white-space-treatment="preserve"> </fo:block><fo:block font-size="10.5pt" text-align="justify"><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">上述问题存在数据源切换的问题</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">：</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">即在事物中</inline><inline font-family="SimSun">，</inline><inline font-family="SimSun">数据源切换失败</inline><inline font-family="SimSun">，</inline><inline font-family="SimSun">但是在非事物中</inline><inline font-family="SimSun">，</inline><inline font-family="SimSun">数据源切换是成功的。</inline></inline></fo:block><fo:block font-size="10.5pt" text-align="justify"><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">对于</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">上述的</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">面向切面的切数据源</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun"> </inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">还是</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">随后尝试</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">基于注解的切换数据源都是失败的</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">。</inline></inline></fo:block><fo:block font-size="10.5pt" text-align="justify"><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">对于数据源切换的问题</inline><inline font-family="SimSun">，</inline><inline font-family="SimSun">最后查询资料</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">得出</inline><inline font-family="SimSun">，</inline><inline font-family="SimSun">由于我们的切换</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">是在</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="PMingLiU-ExtB">Data</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="PMingLiU-ExtB">Source </inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">层</inline><inline font-family="SimSun">，</inline><inline font-family="SimSun">而</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="PMingLiU-ExtB">Jta</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">分布式事物是在</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="PMingLiU-ExtB">SqlSerssion</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">的层</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">。</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">主要</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">参考博客为</inline><inline font-family="SimSun">：</inline></inline></fo:block><fo:block font-size="10.5pt" text-align="justify"><basic-link xmlns="http://www.w3.org/1999/XSL/Format" external-destination="url(https://www.cnblogs.com/qingyibusi/p/7009209.html)"><inline color="#0563C1" font-size="10.5pt" text-decoration="underline"><inline font-family="PMingLiU-ExtB">https://www.cnblogs.com/qingyibusi/p/7009209.html</inline></inline></basic-link></fo:block><fo:block font-size="10.5pt" text-align="justify"><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><external-graphic content-height="88px" content-width="415px" src="file:/C:/Users/PENGFE~1/AppData/Local/Temp/546066ae-b4fb-4f6c-8bb8-c322449df6f2image4.png"/></inline></fo:block><fo:block font-size="10.5pt" text-align="justify"><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">基于上述所说的</inline><inline font-family="SimSun">，</inline><inline font-family="SimSun">对于数据库配置全部改成了</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun"> </inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">各自对应自己的</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="PMingLiU-ExtB">sql</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="PMingLiU-ExtB">Sessionj</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">和对应的扫描包和</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="PMingLiU-ExtB">mapper.xml</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">文件。</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">如下</inline><inline font-family="SimSun">：</inline></inline></fo:block><fo:block font-size="10.5pt" text-align="justify"><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><external-graphic content-height="273px" content-width="415px" src="file:/C:/Users/PENGFE~1/AppData/Local/Temp/546066ae-b4fb-4f6c-8bb8-c322449df6f2image5.png"/></inline></fo:block><fo:block font-size="10.5pt" text-align="justify" white-space-treatment="preserve"> </fo:block><fo:block font-size="10.5pt" text-align="justify"><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">最后配置就与注解的事物开启</inline><inline font-family="SimSun">：</inline></inline></fo:block><fo:block font-size="10.5pt" text-align="justify"><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><external-graphic content-height="32px" content-width="415px" src="file:/C:/Users/PENGFE~1/AppData/Local/Temp/546066ae-b4fb-4f6c-8bb8-c322449df6f2image6.png"/></inline></fo:block><fo:block font-size="10.5pt" text-align="justify" white-space-treatment="preserve"> </fo:block><fo:block font-size="10.5pt" text-align="justify"><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">所以上述就对</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="PMingLiU-ExtB">MultipleDataSource</inline></inline><inline xmlns="http://www.w3.org/1999/XSL/Format" font-size="10.5pt"><inline font-family="SimSun">的配置需要注解</inline><inline font-family="SimSun">，</inline><inline font-family="SimSun">数据源在编写组织的时候就需要考虑到。</inline></inline></fo:block>
  
  
  
  </fo:flow></fo:page-sequence></fo:root>